@tailwind base;
@tailwind components;
@tailwind utilities;

/* âœ… REQUIRED for Tailwind v4 */
@reference "tailwindcss";

/* Remove default margin/padding and prevent scroll */
html, body, #root {
  margin: 0;
  padding: 0;
  overflow: hidden;
  height: 100%;
  width: 100%;
}

:root {
  --font-color: #ffffff; /* fallback */
}

/* Centered number */
.counter-container {
  @apply flex items-center justify-center absolute inset-0 transition-colors duration-500 ease-in-out;
}

.counter-number {
  @apply text-[10vw] sm:text-[18vw] font-bold select-none;
}

/* Wrapper around buttons and popups */
.control-wrapper {
  @apply absolute flex flex-col items-center p-2 z-50 pointer-events-auto;
}

/* Specific control positions */
.control-wrapper.top-left {
  @apply top-4 left-4;
}
.control-wrapper.top-right {
  @apply top-4 right-4;
}
.control-wrapper.bottom-left {
  @apply bottom-4 left-4;
}
.control-wrapper.bottom-right {
  @apply bottom-4 right-4;
}

.font-option,
.counter-container,
.icon-symbol {
  color: var(--font-color);
}

.icon-symbol {
	@apply text-[2.5rem] select-none duration-500 ease-in-out;
}
  
/* Grows the icon when either the button or popup is hovered */
.control-wrapper:hover .icon-symbol {
	@apply scale-180;
}

@layer components {
  .control-btn {
    @apply w-14 h-14 flex items-center justify-center rounded-full cursor-pointer ;
    background: rgba(0, 0, 0, 0.4);
    box-shadow: 0 0 10px 1px rgba(146, 84, 222, 0.4);
  }

  .control-btn:hover {
    box-shadow:
      0 0 12px 2px var(--font-color),
      inset 0 0 5px 2px rgba(146, 84, 222, 0.5);
  }
  
  /* Wrapper for the font options to allow overflow visible */
  .font-popup-inner {	 
	 @apply relative flex flex-wrap items-start gap-2 overflow-visible;
	 justify-content: center;
  }

  /* Popup panel - vertical scroll only, hide horizontal scroll */
  .font-popup {	 
	 @apply overflow-y-auto overflow-x-hidden;
  }

  /* Font option buttons */
 .font-option {
	  @apply relative px-3 py-2 text-lg font-medium rounded-md duration-200 ease-in-out;
	  background: rgba(0, 0, 0, 0.35);
	  box-shadow:
		 inset 0 2px 4px rgba(255, 255, 255, 0.15),
		 inset 0 -2px 4px rgba(0, 0, 0, 0.4);
	  z-index: 10;
	}

	.font-option:hover,
	.font-option.selected {
	  @apply relative z-50;
	  background: rgba(146, 84, 222, 0.2);
	  box-shadow:
		 inset 0 1px 2px rgba(0, 0, 0, 0.8),
		 0 0 12px 1px rgba(146, 84, 222, 0.5);
	  color: #9254de;
	  transform: scale(1.7);
	}

	/* Fix for focus and active */
	.font-option:focus,
	.font-option:active {
	  outline: none;
	  background: rgba(146, 84, 222, 0.2);
	  box-shadow:
		 inset 0 1px 2px rgba(0, 0, 0, 0.8),
		 0 0 12px 1px rgba(146, 84, 222, 0.5);
	  color: #9254de;
	  transform: scale(1.5) translateX(-0.5rem);
	  z-index: 50;
	}
}

/* Popups */
.popup-panel {
  @apply absolute p-3 rounded-xl shadow-md z-40 min-w-[35vw];
  background: rgba(0, 0, 0, 0.35);
  box-shadow:
    0 4px 8px rgba(146, 84, 222, 0.3),
    inset 0 2px 4px rgba(255, 255, 255, 0.1),
    inset 0 -2px 4px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
  /* Ensure no clipping inside popup */
  overflow: visible;
}

/* Color swatches */
.color-popup {
  @apply flex flex-wrap justify-start gap-1 overflow-y-auto ;
}

.color-swatch {
  @apply w-9 h-9 rounded-full cursor-pointer transition-transform duration-200 ease-in-out;
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.2);
}

.color-swatch:hover,
.color-swatch.selected {
  transform: scale(1.7);
  box-shadow: 0 0 12px 2px rgba(146, 84, 222, 0.6);
}

/* Scrollbar styling for font-popup and color-popup */
.font-popup::-webkit-scrollbar,
.color-popup::-webkit-scrollbar {
  width: 8px;
}

.font-popup::-webkit-scrollbar-thumb,
.color-popup::-webkit-scrollbar-thumb {
  background-color: rgba(146, 84, 222, 0.6);
  border-radius: 9999px;
}

.font-popup::-webkit-scrollbar-track,
.color-popup::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 9999px;
}

/* Help popup */
.help-popup {
  @apply absolute bottom-[4.5rem] right-0 w-64 p-4 text-lg rounded-xl z-40 text-white;
  background: rgba(0, 0, 0, 0.35);
  box-shadow:
    0 4px 8px rgba(146, 84, 222, 0.3),
    inset 0 2px 4px rgba(255, 255, 255, 0.1),
    inset 0 -2px 4px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
}
